# ============================================================================
#          OpenObserve Dashboard - Create Tabs
# ============================================================================
#
# IMPORTANT NOTES:
# - Dashboard title must be unique within the organization and folder
# - If a dashboard with the same title exists, creation will fail
# - Before updating, the dashboard must exist in the specified org/folder
# - The operator will check for existing dashboards before creating
# - Org and folder default to "default" if not specified
#
# ============================================================================

apiVersion: openobserve.ai/v1alpha1
kind: OpenObserveDashboard
metadata:
  name: k8s-monitoring-dashboard   # Kubernetes resource name
  namespace: o2operator              # Target namespace
spec:
  configRef:
    name: openobserve-main           # OpenObserveConfig reference (Required)
    namespace: o2operator

  # Dashboard identification
  title: "Dashboard1"   # Must be unique within org/folder (Required)
  description: "Dashboard with just tabs"

  # Organization and folder configuration
  org: "default"                     # Organization (defaults to "default")
  folderName: "default"           # Folder name (defaults to "default", auto-created if missing)

  # Complete dashboard definition
  dashboard:
    version: 8

    # Dashboard variables (optional)
    variables:
      list: []
      showDynamicFilters: true

    # Default time range
    defaultDatetimeDuration:
      type: "relative"
      relativeTimePeriod: "15m"

    # Dashboard tabs
    tabs:
      # ======================================
      # Tab 1: Overview
      # ======================================
      - tabId: "tab-001"
        name: "Overview"
        panels: []

      # ======================================
      # Tab 2: Tab2
      # ======================================
      - tabId: "tab-002"
        name: "Tab2"
        panels: []

      # ======================================
      # Tab 3: Tab3
      # ======================================
      - tabId: "tab-003"
        name: "Tab3"
        panels: []