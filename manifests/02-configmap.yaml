apiVersion: v1
kind: ConfigMap
metadata:
  name: openobserve-operator-config
  namespace: o2operator
data:
  # Controller Concurrency Settings
  # These control how many resources each controller processes in parallel
  ALERT_CONTROLLER_CONCURRENCY: "1"        # Default: 1, Recommended: 1-20
  TEMPLATE_CONTROLLER_CONCURRENCY: "1"     # Default: 1, Recommended: 1-10
  DESTINATION_CONTROLLER_CONCURRENCY: "1"  # Default: 1, Recommended: 1-20
  PIPELINE_CONTROLLER_CONCURRENCY: "1"     # Default: 1, Recommended: 1-10
  FUNCTION_CONTROLLER_CONCURRENCY: "1"     # Default: 1, Recommended: 1-5
  CONFIG_CONTROLLER_CONCURRENCY: "1"       # Default: 1, Recommended: 1-3
  DASHBOARD_CONTROLLER_CONCURRENCY: "1"    # Default: 1, Recommended: 1-10

  # API Rate Limiting
  # Controls how fast we make requests to OpenObserve API
  O2_RATE_LIMIT_RPS: "10"      # Requests per second (Default: 10, Max recommended: 100)
  O2_RATE_LIMIT_BURST: "20"    # Burst capacity (Default: 20, Max recommended: 200)

  # HTTP Connection Pool
  # Controls HTTP connection management
  O2_MAX_CONNS_PER_HOST: "10"        # Max concurrent connections (Default: 10)
  O2_MAX_IDLE_CONNS: "100"           # Total idle connections (Default: 100)
  O2_MAX_IDLE_CONNS_PER_HOST: "10"   # Idle connections per host (Default: 10)
  O2_IDLE_CONN_TIMEOUT: "90s"        # Idle connection timeout (Default: 90s)
  O2_HTTP_TIMEOUT: "30s"              # HTTP request timeout (Default: 30s)

  # Logging
  O2OPERATOR_LOG_LEVEL: "info"       # Log level: debug, info, error

  # Optional: Skip stream validation in webhook
  # SKIP_STREAM_VALIDATION: "false"